# 🌈 サンリオ性格診断

サンリオキャラクターで読み解く恋愛タイプ診断アプリです。16問に直感で答えるだけで、4軸×2分類＝16タイプの中からあなたの傾向を分析し、似ているサンリオキャラと一緒に解説します。

---

## 🧠 コンセプトと診断ロジック

- **判定軸**: 行動原理（Social / Intrinsic）、認知スタイル（Concrete / Abstract）、行動スタンス（Structured / Flow）、エネルギー補充（Talk / Quiet）の4軸。
- 各質問は軸と A/B 選択肢に紐づき、回答数の多いほうがタイプ文字になります。
- 4軸を組み合わせたシグネチャ（例: `SCF-T`）を算出し、`src/data/results.json` の対応タイプとマッチングしてコメントを表示します。
- 現在は 1 タイプのみ本番テキスト、残り 15 タイプは仮データです。文章と画像が完成したら `results.json` と `public/results/` を更新してください。

---

## 性格タイプ × サンリオキャラクター対応表

| タイプ | キャラクター                 | ハイライト                   |
| ------ | ---------------------------- | ---------------------------- |
| SCF-T  | バッドばつ丸                 | 自由と反骨、内に秘めた情熱型 |
| SCF-Q  | クロミ                       | 直感で生きるツンデレ魂       |
| SCA-T  | ポチャッコ                   | 行動力のかたまり元気枠       |
| SCA-Q  | けろけろけろっぴ             | 人好きでムードをつくる社交派 |
| SAF-T  | シナモロール                 | 優しさで世界を包むふわ天使   |
| SAF-Q  | ポムポムプリン               | 安心感MAXの癒し提供者        |
| SAA-T  | ヨシキティ                   | 情熱と美学の自己表現者       |
| SAA-Q  | ウィッシュミーメル           | 感受性豊かなエモの住人       |
| ICF-T  | ハンギョドン                 | 面白さに全振りする情熱型     |
| ICF-Q  | ぐでたま                     | 脱力しながら悟ってる天才肌   |
| ICA-T  | ハローキティ                 | 調和と責任の王道リーダー     |
| ICA-Q  | マイメロディ                 | 優しく努力する信頼の人       |
| IAF-T  | タキシードサム               | 愛嬌のある誠実紳士           |
| IAF-Q  | あひるのペックル             | がんばり屋の素朴善人         |
| IAA-T  | キキ（リトルツインスターズ） | 想像力あふれる冒険少年       |
| IAA-Q  | ララ（リトルツインスターズ） | 包容力ある見守り系ヒロイン   |

※ 全 16 タイプの詳細は `src/data/results.json` を参照してください。

---

## 📦 使用技術

- TypeScript / Next.js (App Router)
- React 18
- Tailwind CSS（テーマ拡張でポップな配色を管理）
- Vitest + Testing Library（ユニットテスト）
- Playwright（E2E スモークテスト）
- Vercel デプロイ想定（サーバレス/CSR）

---

## 🚀 セットアップ

```bash
# 1. 依存パッケージをインストール
npm install

# 2. 開発サーバー起動
npm run dev
# → http://localhost:3000 で診断を試せます

# 3. 静的解析・テスト
npm run lint           # ESLint
npm run type-check     # TypeScript 型チェック
npm run test           # Vitest（単体・ロジック）
npm run e2e            # Playwright（要: 別ターミナルで npm run dev）
```

追加で `npm run prepare` を実行すると Husky のプリコミットフック（lint-staged）が有効になります。

---

## 📁 ディレクトリ構成（抜粋）

```
.
├── public/
│   └── results/              # 結果画像の配置先（プレースホルダー）
├── src/
│   ├── app/                  # Next.js App Router ルート
│   │   ├── page.tsx          # 診断トップ（クイズ）
│   │   ├── results/[type]/   # 結果ページ（静的生成）
│   │   └── share/            # シェア案内ページ
│   ├── data/
│   │   ├── questions.json    # 16問の設問データ
│   │   └── results.json      # 16タイプの診断結果
│   ├── features/quiz/        # クイズ UI コンポーネント
│   ├── lib/quiz.ts           # スコアリングロジック
│   └── types/quiz.ts         # 型定義
├── tests/
│   ├── unit/quiz.test.ts     # スコアリングのユニットテスト
│   ├── server/results.validation.test.ts # データ検証
│   └── e2e/                  # Playwright シナリオ
└── README.md
```

---

## 🔄 ワークフロー & コントリビューション

1. ブランチを切って修正し、`lint` / `type-check` / `test` / `e2e` を通過させます。
2. 新しいタイプ文章や画像を追加する場合は `results.json` と `public/results/` を同期し、必要なら `docs/configuration.md` を更新します。
3. PR テンプレートに沿って背景・影響範囲・実施テストを明記し、スクリーンショットや動画を添付してください。

---

## 📋 キャラクター一覧関連の要件メモ

- **ページ構成**: 診断結果ページ（`results/[type]`）の末尾に一覧ページ（`/results`）へのリンクボタンを配置する。
- **一覧ページ**: `/results` に全16タイプのカード一覧を用意し、`character`・`title`（`summary` があれば優先）・サムネイル画像を表示する。
- **導線**: 一覧カードから各タイプ詳細（`results/[typeCode]`）へ遷移できるリンクを設ける。
- **並び順**: 当面はタイプコードのアルファベット順。将来的に軸グルーピングへ切り替える可能性あり。
- **ビジュアル要素**: `results.json` の `shareImageUrl` をサムネイルとして利用し、URL がない場合は `image` のローカルパスをフォールバックとする。

※ 追加ヒアリング事項が発生した場合はこのセクションを更新してください。

---

## 📝 注意事項

- 本アプリはサンリオ非公式のファンプロジェクトです。
- キャラクター著作権は株式会社サンリオに帰属します。商用利用は予定していません。
- 公開環境では公式ガイドラインとライセンスを遵守してください。

---

## 🎉 ロードマップ

- [ ] キャラクター一覧画面の作成
- [ ] 性格診断の詳細化
- [ ] 結果カードの画像生成・OGP 対応
- [ ] SNS シェアボタンとハッシュタグ連携
- [ ] Tailwind CSS 導入やテーマの細分化
- [ ] 多言語化（英語/日本語）
- [ ] 推し活おすすめコンテンツの連動

改善アイデアや不具合報告は Issue への登録を歓迎します！
